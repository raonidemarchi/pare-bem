<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Acompanhamento Pedidos de Compra</title>

	<!-- Última versão CSS compilada e minificada -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.4.2/css/buttons.dataTables.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.4.2/css/buttons.bootstrap.min.css">
	
	<style>
		.circulo {
			border-radius: 200px;
			width: 10px; height: 10px;
			position:relative;
			top: 0; left: 0;
			display: inline-block !important;
		}
		
		table td {
			text-align: left;
		}
		
		.circulo-success {
			background-color: #5cb85c;
		}
		
		.circulo-waiting {
			background-color: #FFEB3B;
		}
		
		.circulo-warning {
			background-color: #f0ad4e;
		}
		
		.circulo-danger {
			background-color: #d9534f;
		}
	</style>
</head>

<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-md-12">
				<img style="position: absolute; top: 15;" width="80" src="logo.png">
				<h1 style="padding: 20px 0 20px 100px;">Pedidos de Compra</h1>
			</div>
		</div>
		
		<br>
		
		<div class="row">
			<div class="col-md-12">
				<div class="table-responsive">
					<table id="example" class="table table-striped table-bordered table-hover text-center" cellspacing="0" width="100%">
						<thead>
							<tr>
								<th width="5%">Pedido</th>
								<th width="10%">Comprador</th>
								<th width="15%">Fornecedor</th>
								<th width="5%">Telefone</th>
								<th width="5%">Emissão</th>
								<th width="10%">E-mail</th>
								<th width="30%">Situação</th>
							</tr>
						</thead>
						<tbody id="corpoTabela"></tbody>
						<tfoot>
							<tr>
								<th>Pedido</th>
								<th>Comprador</th>
								<th>Fornecedor</th>
								<th>Telefone</th>
								<th>Emissão</th>
								<th>E-mail</th>
								<th>Situação</th>
							</tr>
						</tfoot>
					</table>
				</div>
				<!-- /.table-responsive -->
			</div>
			<!-- /.col-md-12 -->
		</div>
		<!-- /.row -->
		</div>
		
		
	</div>
	<!-- /.container-fluid -->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.0/js/dataTables.buttons.min.js" charset="utf-8"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.0/js/buttons.bootstrap.min.js" charset="utf-8"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" charset="utf-8"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js" charset="utf-8"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js" charset="utf-8"></script>
	<script src="https://cdn.datatables.net/buttons/1.5.0/js/buttons.html5.min.js" charset="utf-8"></script>

	<script>
			Number.prototype.pad = function(size) {
				let s = String(this);
				while (s.length < (size || 2)) {s = "0" + s;}
				return s;
			}
			
			// Setup - add a text input to each footer cell
			$('#example tfoot th').each(function() {
				var title = $(this).text();
				$(this).html('<input type="text" style="width: 100%;" class="form-control">');
			});

			data = []
			for(let i = 0; i < 15; i++) {
				let indiceFornecedor = Math.floor(Math.random() * 3);
				data.push([					
					Math.floor(Math.random() * 100000) + 1,
					['JOSIAS CARMO', 'RODRIGO PEIXOTO', 'ANA LUISA', 'MARIA SILVA'][Math.floor(Math.random() * 4)],
					['SUPRICORP SUPRIMENTOS LTDA', 'IVTS SOLUÇÕES E SISTEMAS', 'GARAGEM 1 LTDA'][indiceFornecedor],
					'(11)' + (Math.floor(Math.random() * 79999999) + 20000000),
					(Math.floor(Math.random() * 31) + 1).pad(2) + '/' + (Math.floor(Math.random() * 6) + 1).pad(2) + '/2017',
					['olive@supricorp.com.br', 'grad@ivts.com.br', 'canvas@garagem1.com.br'][indiceFornecedor],
					['<div class="circulo circulo-success"></div> RONIE.COELHO - Aprovado<br>',
					'<div class="circulo circulo-waiting"></div> SUELI.CARNEIRO - Aguardando<br>',
					'<div class="circulo circulo-warning"></div> MARTA.RODRIGUES - Em Aprovacao<br>',
					'<div class="circulo circulo-danger"></div> RAFAEL.SOUZA - Reprovado - <span class="text-muted">Dados incorretos</span> <br>'
					][Math.floor(Math.random() * 4)] + [
					'',
					'',
					'<div class="circulo circulo-waiting"></div> MURILO.SILVA - Aguardando<br>',
					'<div class="circulo circulo-warning"></div> MONICA.SANTANA - Em Aprovacao<br>',
					][Math.floor(Math.random() * 4)]
				]);
			}
			
			var table = $('#example').DataTable({
				dom: 'Bfrtip',
				data: data,
				buttons: [
					'copyHtml5',
					'excelHtml5',
					'csvHtml5',
					'pdfHtml5'
				],
				"language": {
					"sEmptyTable": "Nenhum registro encontrado",
					"sInfo": "Mostrando de _START_ até _END_ de _TOTAL_ registros",
					"sInfoEmpty": "Mostrando 0 até 0 de 0 registros",
					"sInfoFiltered": "(Filtrados de _MAX_ registros)",
					"sInfoPostFix": "",
					"sInfoThousands": ".",
					"sLengthMenu": "_MENU_ resultados por página",
					"sLoadingRecords": "Carregando...",
					"sProcessing": "Processando...",
					"sZeroRecords": "Nenhum registro encontrado",
					"sSearch": "Pesquisar",
					"oPaginate": {
						"sNext": "Próximo",
						"sPrevious": "Anterior",
						"sFirst": "Primeiro",
						"sLast": "Último"
					},
					"oAria": {
						"sSortAscending": ": Ordenar colunas de forma ascendente",
						"sSortDescending": ": Ordenar colunas de forma descendente"
					}
				}
			});

			$('#example tfoot tr').insertAfter($('#example thead tr'));
			
			// Apply the search
			table.columns().every(function() {
				var that = this;

				$('input', this.footer()).on('keyup change', function() {
					if (that.search() !== this.value) {
						that.search(this.value).draw();
					}
				});
			});
			
		</script>
	
	</body>

</html>
